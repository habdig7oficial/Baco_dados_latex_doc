\documentclass{article}\usepackage[hidelinks]{hyperref}\usepackage{xcolor}\usepackage{graphicx}\usepackage{minted}\usepackage{comment}\title{Projeto Banco de Dados}\author{Mateus Felipe da Silveira Vieira \\ RA: 10723904  \and Rayana Pimentel Marques Lopes \\ RA: - }\begin{document}\maketitle\tableofcontents\vspace{4em}\begin{center}  \large{Git Latex Link}\end{center}{\color{blue}\url{https://github.com/habdig7oficial/Baco\_dados\_latex\_doc.git}}\vspace{1em}\label{sessao1}\section{Texto de Modelagem}Foi criado uma modelagem na qual há \textit{Usuários}, \textit{Posts}, \textit{Anexos} e \textit{Chats} como entidades, na qual Cada Usuário pode possuir diversos Posts em diversos Chats e cada post deve pertencer a pelo menos um chat e um usuário criador, a entidade Usuário é independente não dependendo de Post nem Chats para ser criada, enquanto Chats depende depende de pelo menos um Usuário para existir. A entidade Anexos está relacionada com Post, com um post podendo possuir muitos anexos, mas cada anexo pertence exclusivamente a um post (por motivos de não ser possível assegurar de uma maneira computacionalmente viável em escala se um anexo é o mesmo entre diversos posts). Além disto nesta rede social há a possibiliadade de um usuário poder seguir e ser seguido por muitos usuários, incluindo uma rela\c{c}ão recíproca em que um par de usuários se seguem mutuamente, sendo o sentido de tal rela\c{c}ão distinto, distinguindo-se o seguidor do seguido (este processo poderia ser descrito e otimizado em um Banco de Dados exclusivo para gráfos, mas por motivos de aprendizado será utilizado uma modelagem para Banco SQL). \pagebreak\label{sessao2}\section{Diagrama Modelo Entidade-Relacionamento}\includegraphics[scale=0.40]{md_conceitual.png}\pagebreak\label{sessao3}\section{Diagrama Modelo Relacional }\begin{center}  \includegraphics[scale=0.22]{md_logico.png}\end{center}\pagebreak\label{sessao4}\section{Prepara\c{c}ão (PostgreSQL)}\label{subsessao41}\subsection{Criando Tabelas}\subsubsection{Chats}\textit{\underline{Query SQL:}}\begin{minted}[frame=lines, framesep=10pt]{sql}  CREATE TABLE chats(  id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,  name VARCHAR(20) NOT NULL,  description VARCHAR(50),  photo_link VARCHAR(20),  created_at TIMESTAMP DEFAULT NOW());\end{minted}\subsubsection{Usr}\textit{\underline{Query SQL:}}\label{subsessao42}\begin{minted}[frame=lines, framesep=10pt]{sql}CREATE TABLE usr (  id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,  first_name VARCHAR(30) NOT NULL,  last_name VARCHAR(30) NOT NULL,  email VARCHAR(30) NOT NULL,  age SMALLINT CHECK(age >= 18) NOT NULL,  phone VARCHAR(20) NOT NULL,  photo_link VARCHAR(20),   created_at TIMESTAMP DEFAULT NOW());\end{minted}\subsubsection{Posts}\textit{\underline{Query SQL:}}\label{subsessao43}\begin{minted}[frame=lines, framesep=10pt]{sql}CREATE TABLE posts (  id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,  title VARCHAR(40) NOT NULL,  text TEXT NOT NULL,  likes INTEGER DEFAULT(0),  created_at TIMESTAMP DEFAULT NOW());\end{minted}\subsubsection{usr\_posts\_chats}\textit{\underline{Query SQL:}}\label{subsessao44}\begin{minted}[frame=lines, framesep=10pt]{sql}CREATE TABLE usr_posts_chats(  id_usr INT REFERENCES usr(id),  id_post INT REFERENCES posts(id),  id_chats INT REFERENCES chats(id),   PRIMARY KEY(id_usr, id_post, id_chats));\end{minted}\subsubsection{follow}\textit{\underline{Query SQL:}}\begin{minted}[frame=lines, framesep=10pt]{sql}CREATE TABLE follow(  id_from INT REFERENCES usr(id),  id_to INT REFERENCES usr(id),    PRIMARY KEY(id_from, id_to));\end{minted}\subsubsection{Anexes}\textit{\underline{Query SQL:}}\label{subsessao46}\begin{minted}[frame=lines, framesep=10pt]{sql}CREATE TABLE anexes (  id INT GENERATED BY DEFAULT AS IDENTITY,  id_post INT REFERENCES posts(id) NOT NULL,  file_link VARCHAR(50) NOT NULL,  mime_type VARCHAR(20) NOT NULL,  mime_subtype VARCHAR(20) NOT NULL);\end{minted}\subsection{Inserindo Dados}\subsubsection{Chats}\textit{\underline{Query SQL:}}\begin{minted}[frame=lines, framesep=10pt]{sql}INSERT INTO chats(  name,  description)VALUES(  'TECNOLOGIES',  'A chat about tech'),(  'Music',  'Discussion about music'),(  'Deutsch Sprechen',  'A sehr schön über Deutsch Sprachen'),(  'Daily life',  'A chat about daily life'),(  'Travelling',  'A chat to share your experiences around the world');\end{minted}\subsubsection{Usr}\textit{\underline{Query SQL:}}\begin{minted}[frame=lines, framesep=10pt]{sql}INSERT INTO usr (  first_name,  last_name,  email,  age,  phone)VALUES (    'Mateus Felipe',    'Silveira Vieira Schreiner',    '10723904@mackenzista.com',    19,    '11 979246-6876'  ),   (    'Rayana',    'Pimentel',    'ra@mackenzie.com',     19,     '11 979246-6876'  ),   (    'Cidinha',     'Delgado',     'cidinha@musica.com',     60,     '11 979248-6876'  ),   (     'Vitinho',    'Roveri',    'vitor@pianista.com',    37,     '11 979236-6876'  ),   (     'Karen',     'Comanduli',     'pio_x@musica.com',     50,     '11 979246-6876'  );\end{minted}\subsubsection{Posts}\textit{\underline{Query SQL:}}\begin{minted}[frame=lines, framesep=10pt]{sql}INSERT INTO posts(  title,  text)VALUES(  'What is free (as in freedom) software',  'Specifically, free software means users have the four essential freedoms:   (0) to run the program,  (1) to study and change the program in source code form,   (2) to redistribute exact copies, and (3) to distribute modified versions.'),(  'Why I like Linux',  'I like linux because is free, is flexible and costumizable'),(  'Best Classical Musics to Sing in a Chor',  'There a lot of options. However Bach, Mozart and Beethoven are good choiches'),(  'How theach music for children',  'Fist is important a lot of patience and perceverance'),(  'My day today',  'I have a pretty good day today. I awakend and ...'),(  'Was habe ich am letzten Donnerstag gemacht',  'Hallo Freunde*innen, am Donnerstag bin ich nach Jundiaí gefahren und ...' );\end{minted}\subsubsection{usr\_posts\_chats}\textit{\underline{Query SQL:}}\begin{minted}[frame=lines, framesep=10pt]{sql}INSERT INTO usr_posts_chats(  id_usr,  id_post,  id_chats)VALUES(1,1,1),(1,2,1),(5,3,2),(3,4,2),(2,5,4),(1,6,4);\end{minted}\subsubsection{follow}\textit{\underline{Query SQL:}}\begin{minted}[frame=lines, framesep=10pt]{sql}INSERT INTO follow(  id_from,  id_to)VALUES(1,5), (2,1), (1,2), (4,5), (4,3);\end{minted}\subsubsection{Anexes}\textit{\underline{Query SQL:}}\begin{minted}[frame=lines, framesep=10pt]{sql}INSERT INTO anexes(  id_post,  file_link,  mime_type,  mime_subtype)VALUES(  1,  'https://www.gnu.org/philosophy/philosophy.html.en',  'html',  'hyperlink'),(  1,  'https://www.gnu.org/graphics/agplv3-155x51.png',  'image',  'png'),(  2,  'https://www.kernel.org/theme/images/logos/tux.png',  'image',  'png'),(  4,  'https://freesvg.org/img/noun_project_928.png',  'image',  'png');\end{minted}\pagebreak\label{sessao5}\section{Testando com Dados}\label{subsessao51}\subsection{Tabela Chats - (Grupos)}\textit{\underline{Query SQL:}}\begin{minted}[frame=lines, framesep=10pt]{sql}  SELECT id, name, description, created_at FROM chats;\end{minted}\begin{table}[!ht]    \centering    \begin{tabular}{|l|l|l|l|}    \hline        id & name & description & created\_at \\ \hline        1 & TECNOLOGIES & A chat about tech & 2025-09-07 18:21:20.70906 \\ \hline        2 & Music & Discussion about music & 2025-09-07 18:21:20.70906 \\ \hline        3 & Deutsch Sprechen & A sehr schön über Deutsch Sprachen & 2025-09-07 18:21:20.70906 \\ \hline        4 & Daily life & A chat about daily life & 2025-09-07 18:21:20.70906 \\ \hline        5 & Travelling & A chat to share your experiences around the world & 2025-09-07 18:21:20.70906 \\ \hline    \end{tabular}\end{table}\label{subsessao52}\subsection{Tabela Usr - (Usuários)}\textit{\underline{Query SQL:}}\begin{minted}[frame=lines, framesep=10pt]{sql}  SELECT id, first_name, last_name, email, age, phone FROM usr;\end{minted}\begin{table}[!ht]    \centering    \begin{tabular}{|l|l|l|l|c|l|}    \hline        id & first\_name & last\_name & email & age & phone \\ \hline        1 & Mateus Felipe & Silveira Vieira Schreiner & 10723904@mackenzista.com & 19 & 11 979246-6876 \\ \hline        2 & Rayana & Pimentel & ra@mackenzie.com & 19 & 11 979246-6876 \\ \hline        3 & Cidinha & Delgado & cidinha@musica.com & 60 & 11 979248-6876 \\ \hline        4 & Vitinho & Roveri & vitor@pianista.com & 37 & 11 979236-6876 \\ \hline        5 & Karen & Comanduli & pio\_x@musica.com & 50 & 11 979246-6876 \\ \hline    \end{tabular}\end{table}\label{subsessao53}\subsection{Tabela Posts - (Mensagens)}\textit{\underline{Query SQL:}}\begin{minted}[frame=lines, framesep=10pt]{sql}  SELECT id, title, SUBSTRING(text FROM 1 FOR 20) || '...'  AS text__init, likes, created_at FROM posts;\end{minted}\begin{table}[!ht]    \centering    \begin{tabular}{|c|l|l|c|l|}    \hline        id & title & text\_\_init & likes & created\_at \\ \hline        1 & What is free (as in freedom) software & Specifically,... & 0 & 2025-11-02 20:16:52.422684 \\ \hline        2 & Why I like Linux & I like linux ... & 0 & 2025-11-02 20:16:52.422684 \\ \hline        4 & How theach music for children & Fist is impor... & 0 & 2025-11-02 20:16:52.422684 \\ \hline        5 & My day today & I have a pret... & 0 & 2025-11-02 20:16:52.422684 \\ \hline        6 & Was habe ich am letzten Donnerstag gemacht & Hallo Freunde... & 0 & 2025-11-02 20:16:52.422684 \\ \hline        3 & Best Classical Musics to Sing in a Chor & There a lot o... & 1 & 2025-11-02 20:16:52.422684 \\ \hline    \end{tabular}\end{table}\label{subsessao54}\subsection{Tabela usr\_posts\_chats \\(Rela\c{c}ão: Usr \textless{}N\textgreater{} - Posts \textless{}N\textgreater{} - Chats  \textless{}N\textgreater{})}\textit{\underline{Query SQL:}}\begin{minted}[frame=lines, framesep=10pt]{sql}  SELECT id_usr, id_post, id_chats FROM usr_posts_chats;  \end{minted}\begin{table}[!ht]    \centering    \begin{tabular}{|c|c|c|}    \hline        id\_usr & id\_post & id\_chats \\ \hline        1 & 1 & 1 \\ \hline        1 & 2 & 1 \\ \hline        5 & 3 & 2 \\ \hline        3 & 4 & 2 \\ \hline        2 & 5 & 4 \\ \hline        1 & 6 & 4 \\ \hline    \end{tabular}\end{table}\begin{minted}[frame=lines, framesep=10pt]{sql}SELECT posts.title, SUBSTRING(text FROM 1 FOR 13) || '...' AS text,chats.name AS chat__name, first_name, usr.id AS usr__id  FROM usr INNER JOIN usr_posts_chats ON usr.id = usr_posts_chats.id_usrINNER JOIN posts ON posts.id = usr_posts_chats.id_postINNER JOIN chats ON chats.id = usr_posts_chats.id_chats;\end{minted}\begin{table}[!ht]    \centering    \begin{tabular}{|l|l|l|l|c|}    \hline        title & text & chat\_\_name & first\_name & usr\_\_id \\ \hline        What is free (as in freedom) softwa... & Specifically,... & TECNOLOGIES & Mateus Felipe & 1 \\ \hline        Why I like Linux... & I like linux ... & TECNOLOGIES & Mateus Felipe & 1 \\ \hline        Best Classical Musics to Sing in a ... & There a lot o... & Music & Karen & 5 \\ \hline        How theach music for children... & Fist is impor... & Music & Cidinha & 3 \\ \hline        My day today... & I have a pret... & Daily life & Rayana & 2 \\ \hline        Was habe ich am letzten Donnerstag ... & Hallo Freunde... & Daily life & Mateus Felipe & 1 \\ \hline    \end{tabular}\end{table}\pagebreak\label{subsessao56}\subsection{Tabela follow \\(Rela\c{c}ão: Usr \textless{}N\textgreater{} - Usr \textless{}N\textgreater{} [auto-rela\c{c}ão])}\textit{\underline{Query SQL:}}\begin{minted}[frame=lines, framesep=10pt]{sql}  SELECT id_from, id_to FROM follow;\end{minted}\begin{table}[!ht]    \raggedright    \begin{tabular}{|c|c|}    \hline        id\_from & id\_to \\ \hline        1 & 5 \\ \hline        2 & 1 \\ \hline        1 & 2 \\ \hline        4 & 5 \\ \hline        4 & 3 \\ \hline    \end{tabular}\end{table}% Para essa linha eu tive que usar um pouco de ajuda de AI pra otimizar a flag\begin{minted}[frame=lines, framesep=10pt]{sql}SELECT usr_from.id AS id_from, follow.id_to, usr_from.first_name AS name_from, usr_to.first_name AS name_to FROM usr usr_fromINNER JOIN follow ON usr_from.id = follow.id_from INNER JOIN usr usr_to ON usr_to.id = follow.id_to;\end{minted}\footnote{Para essa query SQL foi nessesário utilizar um nome intermediário, pois como há uma rela\c{c}ão N:N entre a mesma entidade Usr, através da tabela de liga\c{c}ão follow, é presiso diferenciar as colunas em questão do usuário que segue (from) e do que é seguido (to), caso o contrário ocorreia que somente uma coluna resultante seria mostrada pois teriam o mesmo nome, apesar de possuirem valores diferentes }\begin{table}[!ht]    \raggedright    \begin{tabular}{|c|c|l|l|}    \hline        id\_from & id\_to & name\_from & name\_to \\ \hline        1 & 5 & Mateus Felipe & Karen \\ \hline        2 & 1 & Rayana & Mateus Felipe \\ \hline        1 & 2 & Mateus Felipe & Rayana \\ \hline        4 & 5 & Vitinho & Karen \\ \hline        4 & 3 & Vitinho & Cidinha \\ \hline    \end{tabular}\end{table}\pagebreak\label{subsessao57}\subsection{Tabela Anexes (Rela\c{c}ão: Anexes \textless{}N\textgreater{} - Posts \textless{}1\textgreater{})}\textit{\underline{Query SQL:}}\begin{minted}[frame=lines, framesep=10pt]{sql} SELECT id, id_post, file_link, mime_type, mime_subtype FROM anexes;\end{minted}\begin{table}[!ht]    \raggedright    \begin{tabular}{|c|c|l|c|c|}    \hline        id & id\_post & file\_link & mime\_type & mime\_subtype \\ \hline        1 & 1 & https://www.gnu.org/philosophy/philosophy.html.en & html & hyperlink \\ \hline        2 & 1 & https://www.gnu.org/graphics/agplv3-155x51.png & image & png \\ \hline        3 & 2 & https://www.kernel.org/theme/images/logos/tux.png & image & png \\ \hline        4 & 4 & https://www.kernel.org/theme/images/logos/tux.png & image & png \\ \hline    \end{tabular}\end{table}\begin{minted}[frame=lines, framesep=10pt]{sql}  SELECT anexes.id AS anexes__id, posts.id AS post__id, posts.title, SUBSTRING(file_link FROM 1 FOR 15) || '...' AS file_link, mime_type, mime_subtype FROM anexesINNER JOIN posts ON anexes.id_post = posts.id;\end{minted}\begin{table}[!ht]    \centering    \begin{tabular}{|c|c|l|l|c|c|}    \hline        anexes\_\_id & post\_\_id & title & file\_link & mime\_type & mime\_subtype \\ \hline        1 & 1 & What is ... & https://www.gnu... & html & hyperlink \\ \hline        2 & 1 & What is ... & https://www.gnu... & image & png \\ \hline        3 & 2 & Why I li... & https://www.ker... & image & png \\ \hline        4 & 4 & How thea... & https://freesvg... & image & png \\ \hline    \end{tabular}\end{table}\pagebreak\section{Full script}\begin{minted}[frame=lines, framesep=10pt]{sql}-- drop all tables from the last testDROP TABLE IF EXISTS posts CASCADE;DROP TABLE IF EXISTS usr CASCADE;DROP TABLE IF EXISTS chats CASCADE;DROP TABLE IF EXISTS usr_posts_chats;DROP TABLE IF EXISTS follow;DROP TABLE IF EXISTS anexes;-- Re create tablesCREATE TABLE chats(  id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,  name VARCHAR(20) NOT NULL,  description VARCHAR(50),  photo_link VARCHAR(20),  created_at TIMESTAMP DEFAULT NOW());CREATE TABLE usr (  id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,  first_name VARCHAR(30) NOT NULL,  last_name VARCHAR(30) NOT NULL,  email VARCHAR(30) NOT NULL,  age SMALLINT CHECK(age >= 18) NOT NULL,  phone VARCHAR(20) NOT NULL,  photo_link VARCHAR(20),   created_at TIMESTAMP DEFAULT NOW());CREATE TABLE posts (  id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,  title VARCHAR(45) NOT NULL,  text TEXT NOT NULL,  likes INTEGER DEFAULT(0),  created_at TIMESTAMP DEFAULT NOW());CREATE TABLE follow(  id_from INT REFERENCES usr(id),  id_to INT REFERENCES usr(id),    PRIMARY KEY(id_from, id_to));CREATE TABLE usr_posts_chats(  id_usr INT REFERENCES usr(id),  id_post INT REFERENCES posts(id),  id_chats INT REFERENCES chats(id),   PRIMARY KEY(id_usr, id_post, id_chats));CREATE TABLE anexes (  id INT GENERATED BY DEFAULT AS IDENTITY,  id_post INT REFERENCES posts(id) NOT NULL,  file_link VARCHAR(50) NOT NULL,  mime_type VARCHAR(20) NOT NULL,  mime_subtype VARCHAR(20) NOT NULL);-- insert dummy dataINSERT INTO chats(  name,  description)VALUES(  'TECNOLOGIES',  'A chat about tech'),(  'Music',  'Discussion about music'),(  'Deutsch Sprechen',  'A sehr schön über Deutsch Sprachen'),(  'Daily life',  'A chat about daily life'),(  'Travelling',  'A chat to share your experiences around the world');INSERT INTO usr (  first_name,  last_name,  email,  age,  phone)VALUES (    'Mateus Felipe',    'Silveira Vieira Schreiner',    '10723904@mackenzista.com',    19,    '11 979246-6876'  ),   (    'Rayana',    'Pimentel',    'ra@mackenzista.com',     19,     '11 979246-6876'  ),   (    'Cidinha',     'Delgado',     'cidinha@musica.com',     60,     '11 979248-6876'  ),   (     'Vitinho',    'Roveri',    'vitor@pianista.com',    37,     '11 979236-6876'  ),   (     'Karen',     'Comanduli',     'pio_x@musica.com',     50,     '11 979246-6876'  );INSERT INTO follow(  id_from,  id_to)VALUES(1,5), (2,1), (1,2), (4,5),(4,3);INSERT INTO posts(  title,  text)VALUES(  'What is free (as in freedom) software',  'Specifically, free software means users have the four essential freedoms:   (0) to run the program,  (1) to study and change the program in source code form,   (2) to redistribute exact copies, and (3) to distribute modified versions.'),(  'Why I like Linux',  'I like linux because is free, is flexible and costumizable'),(  'Best Classical Musics to Sing in a Chor',  'There a lot of options. However Bach, Mozart and Beethoven are good choiches'),(  'How theach music for children',  'Fist is important a lot of patience and perceverance'),(  'My day today',  'I have a pretty good day today. I awakend and ...'),(  'Was habe ich am letzten Donnerstag gemacht',  'Hallo Freunde*innen, am Donnerstag bin ich nach Jundiaí gefahren und ...' );INSERT INTO usr_posts_chats(  id_usr,  id_post,  id_chats)VALUES(1,1,1),(1,2,1),(5,3,2),(3,4,2),(2,5,4),(1,6,4);INSERT INTO anexes(  id_post,  file_link,  mime_type,  mime_subtype)VALUES(  1,  'https://www.gnu.org/philosophy/philosophy.html.en',  'html',  'hyperlink'),(  1,  'https://www.gnu.org/graphics/agplv3-155x51.png',  'image',  'png'),(  2,  'https://www.kernel.org/theme/images/logos/tux.png',  'image',  'png'),(  4,  'https://freesvg.org/img/noun_project_928.png',  'image',  'png'),(  4,  'imagem bem legal',  'image',  'png');-- add like to see if worksUPDATE posts SET likes = likes + 1 WHERE id = 3;SELECT id, name, description, created_at FROM chats;  -- chatsSELECT id, first_name, last_name, email, age, phone FROM usr; --usrSELECT id, title, SUBSTRING(text FROM 1 FOR 13) || '...' AS text__init, likes, created_at FROM posts; -- posts-- usr_posts_chatsSELECT id_usr, id_post, id_chats FROM usr_posts_chats; -- 3.4 3 Tabelas Inner joinSELECT posts.title, SUBSTRING(text FROM 1 FOR 13) || '...' AS text,chats.name AS chat__name, first_name, usr.id AS usr__id  FROM usr INNER JOIN usr_posts_chats ON usr.id = usr_posts_chats.id_usrINNER JOIN posts ON posts.id = usr_posts_chats.id_postINNER JOIN chats ON chats.id = usr_posts_chats.id_chats;-- followersSELECT id_from, id_to FROM follow;SELECT usr_from.id AS id_from, follow.id_to, usr_from.first_name AS name_from, usr_to.first_name AS name_to FROM usr usr_fromINNER JOIN follow ON usr_from.id = follow.id_from INNER JOIN usr usr_to ON usr_to.id = follow.id_to;-- anexesSELECT id, id_post, file_link, mime_type, mime_subtype FROM anexes;SELECT anexes.id AS anexes__id, posts.id AS post__id, SUBSTRING(posts.title FROM 1 FOR 8) || '...' AS title, SUBSTRING(file_link FROM 1 FOR 15) || '...' AS file_link, mime_type, mime_subtype FROM anexesINNER JOIN posts ON anexes.id_post = posts.id;/* Query Projeto 2*/-- 3.1SELECT COUNT(first_name) AS search_by_email FROM usrWHERE email LIKE '%@mackenzista%';/*SELECT id_post, posts.title, COUNT(id_post) AS linked_anexes FROM anexesINNER JOIN posts ON anexes.id_post = posts.idWHERE mime_type = 'image' AND mime_subtype = 'png'GROUP BY id_post, posts.title;*/-- 3.2/*SELECT FOLLOW.first_name AS follow, IS_FOLLOWED.first_name FROM follow FOLLOWINNER JOIN usr IS_FOLLOWED ON FOLLOW.id_from = IS_FOLLOWED.;*/SELECT usr_follow.first_name AS follows, usr_followed.first_name AS is_followed FROM followINNER JOIN usr usr_follow ON follow.id_from = usr_follow.idINNER JOIN usr usr_followed ON usr_follow.id = usr_followed.id;-- 3.3SELECT posts.id, posts. title id_post, SUBSTRING(file_link FROM 1 FOR 13) || '...' AS file_link, mime_type, mime_subtype FROM anexesRIGHT JOIN posts ON posts.id = anexes.id;-- 3.4 3 Tabelas Inner joinSELECT posts.id, SUBSTRING(posts.title FROM 1 FOR 25) || '...' AS title, SUBSTRING(text FROM 1 FOR 13) || '...' AS text,chats.name AS chat__name, first_name, usr.id AS usr__id  FROM usr INNER JOIN usr_posts_chats ON usr.id = usr_posts_chats.id_usrINNER JOIN posts ON posts.id = usr_posts_chats.id_postINNER JOIN chats ON chats.id = usr_posts_chats.id_chats;\end{minted}\begin{center}\Huge{Projeto 2 Queries SQL}  \end{center}\section{SELECT Queries}\subsection{SELECT with WHERE, LIKE and COUNT function}\begin{minted}[frame=lines, framesep=10pt]{sql}-- 3.1SELECT COUNT(first_name) AS search_by_email FROM usrWHERE email LIKE '%@mackenzista%';\end{minted}\begin{table}[!ht]    \centering    \begin{tabular}{|c|c|}    \hline        search\_by\_email \\    \hline        2 \\    \hline    \end{tabular}\end{table}\subsection{SELECT with INNER JOIN}\begin{minted}[frame=lines, framesep=10pt]{sql}  SELECT usr_follow.first_name AS follows, usr_followed.first_name AS is_followed  FROM followINNER JOIN usr usr_follow ON follow.id_from = usr_follow.idINNER JOIN usr usr_followed ON usr_follow.id = usr_followed.id;\end{minted}\begin{table}[!ht]    \centering    \begin{tabular}{|c|c|}    \hline        follows & is\_followed \\ \hline        Mateus Felipe & Mateus Felipe \\ \hline        Mateus Felipe & Mateus Felipe \\ \hline        Rayana & Rayana \\ \hline        Vitinho & Vitinho \\ \hline        Vitinho & Vitinho \\ \hline    \end{tabular}\end{table}\subsection{SELECT with RIGHT JOIN}\begin{minted}[frame=lines, framesep=10pt]{sql}-- 3.3SELECT posts.id, posts. title id_post, file_link, mime_type, mime_subtype FROM anexesRIGHT JOIN posts ON posts.id = anexes.id;\end{minted}\begin{table}[!ht]    \centering    \begin{tabular}{|c|l|l|l|l|}    \hline        id & id\_post & file\_link & mime\_type & mime\_subtype \\ \hline        1 & What is free (as in freedom) software & https://www.g... & html & hyperlink \\ \hline        2 & Why I like Linux & https://www.g... & image & png \\ \hline        3 & Best Classical Musics to Sing in a Chor & https://www.k... & image & png \\ \hline        4 & How theach music for children & https://frees... & image & png \\ \hline        5 & My day today & imagem bem le... & image & png \\ \hline        6 & Was habe ich am letzten Donnerstag gemacht & null & null & null \\ \hline    \end{tabular}\end{table}\subsection{SELECT with INNER JOIN, 4 tables}\begin{minted}[frame=lines, framesep=10pt]{sql}-- 3.4 3 Tabelas Inner joinSELECT posts.id, SUBSTRING(posts.title FROM 1 FOR 25) || '...' AS title,SUBSTRING(text FROM 1 FOR 13) || '...' AS text,chats.name AS chat__name, first_name, usr.id AS usr__id  FROM usr INNER JOIN usr_posts_chats ON usr.id = usr_posts_chats.id_usrINNER JOIN posts ON posts.id = usr_posts_chats.id_postINNER JOIN chats ON chats.id = usr_posts_chats.id_chats;\end{minted}\begin{table}[!ht]    \centering    \begin{tabular}{|c|l|l|l|l|l|}    \hline        id & title & text & chat\_\_name & first\_name & usr\_\_id \\ \hline        1 & What is free (as in freed... & Specifically,... & TECNOLOGIES & Mateus Felipe & 1 \\ \hline        2 & Why I like Linux... & I like linux ... & TECNOLOGIES & Mateus Felipe & 1 \\ \hline        3 & Best Classical Musics to ... & There a lot o... & Music & Karen & 5 \\ \hline        4 & How theach music for chil... & Fist is impor... & Music & Cidinha & 3 \\ \hline        5 & My day today... & I have a pret... & Daily life & Rayana & 2 \\ \hline        6 & Was habe ich am letzten D... & Hallo Freunde... & Daily life & Mateus Felipe & 1 \\ \hline    \end{tabular}\end{table}\end{document}